---
title: 20230809_array
date : 2023-08-18
id : coding5
tag: 
   - typescript 
   - quiz
brand: blog
---

## 1. 아무런 타입 오류가 발생하지 않는 이유가 무엇인가요?
```ts
const items = [];
items.push(1);
items.push("two");
items.push(false);

console.log(items);
```
`items`의 타입은 `any[]`입니다. array type이기는 하지만, array내부에 들어올 수 있는 타입을 별도로 지정하지 않았기 때문에 어떤 종류의 원시타입, 참조타입을 값으로 저장해도 타입 오류가 발생하지 않습니다. 

## 2. 제네릭 Array 타입, 아래의 코드에서 타입 오류가 나는 이유는 무엇일까요?
```ts
const numbers: Array<number> = [];
numbers.push(1);
numbers.push("two");
numbers.push(false);
```

```ts
const numbers: Array<number> = [1, "two", false];
console.log(numbers);
```

제네릭은 명시적으로 타입을 지정하는 것이 아닌, 코드에서 호출하는 방식에 따라 다양한 타입으로 작동하도록 의도할 수 있습니다. 위의 `Array<number>`는 타입을 `number[]` 로 지정한 것과 같으며, 배열의 값으로 number 타입만을 허용한다는 것을 의미합니다. 따라서 `'two'`, `false` 는 각각 `string` , `boolean` 타입이기 때문에 타입스크립트에서 오류가 발생합니다. 
Array에 지정된 타입 형태를 살펴보면 다음과 같습니다.

```ts
interface Array(T){
    // 배열이 비어 있다면, undefined를 반환합니다.
    // 배열에 값이 있다면, 배열의 마지막 값을 반환합니다.
    pop(): T | undefined;


    // 배열의 끝에 새로운 값을 추가하고 배열의 길이를 반환합니다.
    push(...items: T[]):number;
}
```

## 3. [] 표기 사용한 타입, []표기법을 사용해 strings의 타입을 정의해주세요
```ts
const strings = ["one", "two", "three"];
```

타입을 직접적으로 지정한다면, 다음과 같이 지정할 수 있습니다.

```ts
const strings: string[] = ["one", "two", "three"];
```
하지만 타입스크립트는 자체 타입 유추를 통해 `string[]` 타입을 반환하고 있기 때문에, 명시적으로 타입을 지정을 반드시 해야한다고는 생각하지 않습니다. 이는 코드 작성자의 상황과 필요에 따라서 달라질 것 같습니다.

## 4. 타입 유추, array의 타입이 무엇인지 타입 힌트를 확인해서 유추해보세요. 타입을 지정할 필요가 있을지 고민해보세요.
```ts
const array = [1, 2, 3];
console.log(array);
```
타입스크립트는 위의 array의 타입을 `number[]` 타입으로 유추합니다. 만약 array 배열이 number 타입만을 저장하고 내부 값을 자유롭게 수정 삭제하는 것을 허용한다면, 문제가 없다고 생각합니다. 

하지만 만약 array 변수에 할당 된 배열의 값이 1,2,3 중에 하나여야 한다면, 아래와 같이 type을 지정할 수도 있다고 생각합니다. 

```ts
type Array = [1,2,3];
const array:Array = [1,2,3];
```

혹은 타입을 유사배열 객체로 구성을 해서 형태를 고정시킬수도 있다고 생각합니다. 하지만 다음과 같이 사용해야 하는 경우가 있을지는 의문입니다. 
```ts

type Arr = {
  length : 3;
  0: 1;
  1: 2;
  2: 3;
}
const array:Arr = [1,2,3];
```

## 5. `...scores`타입을 정의하세요. 타입 힌트를 통해 타입을 정의해보세요.
```ts
  function logScores(firstName, ...scores) {
    console.log(firstName, scores);
  }
  logScores("Mike", 90, 65, "65");
```

만약 `tsconfig.json`의 `compilerOptions`의 `strict: false` 혹은 `noImplicitAny: false` 로 설정을 하였을 경우 타입스크립트는 함수의 매개변수를 any로 추론하는 것에 대하여 어떠한 타입 오류도 알려주지 않을 것입니다. 이는 하나의 해결 방법이 될 수 있다고 생각을 합니다. 하지만 이는 타입스크립트를 사용하는 이유와는 맞지 않다고 생각합니다. 

따라서 `...scores`의 타입을 지정해주어야 한다고 생각합니다. 함수의 매개변수에 위와 같이 설정을 하는 것은 Rest 파라미터 입니다. Rest 파라미터는 함수에 전달된 인수들의 목록을 배열로 전달받습니다. 따라서 `...scores`는 배열이며, 타입을 어떻게 설정하느냐에 따라서 인자로 받아들이는 값을 제한할 수 있습니다. 

함수와 매개변수의 이름으로 유추해보았을 때, `...scores`의 타입은 `number[]` 여야 한다고 생각합니다. 추가적으로 `firstName`의 타입은 `string`이라고 생각합니다. 

이를 통해 함수 호출 부분에서 `"65"`로 전달한 인수를 `65`로 수정할 수 있다고 생각합니다.