---
title: 소인수분해
date : 2023-03-06
id : 소인수분해
tag: 
   - coding-test
   - math
brand: blog
---

## 문제 출처
<a href="https://school.programmers.co.kr/learn/courses/30/lessons/120852" target="_blank" className="source">소인수 분해</a>

### 문제 설명

소인수분해란 어떤 수를 소수들의 곱으로 표현하는 것입니다. 예를 들어 12를 소인수 분해하면 2 * 2 * 3 으로 나타낼 수 있습니다. 따라서 12의 소인수는 2와 3입니다. 자연수 `n`이 매개변수로 주어질 때 `n`의 소인수를 오름차순으로 담은 배열을 return하도록 solution 함수를 완성해주세요.

### 제한사항

- 2 ≤ `n` ≤ 10,000

### 입출력 예 설명

- 입출력 예 #1
    - 12를 소인수분해하면 2 * 2 * 3 입니다. 따라서 [2, 3]을 return합니다.
- 입출력 예 #2
    - 17은 소수입니다. 따라서 [17]을 return 해야 합니다.
- 입출력 예 #3
    - 420을 소인수분해하면 2 * 2 * 3 * 5 * 7 입니다. 따라서 [2, 3, 5, 7]을 return합니다.

# 코드

### 첫 번째 실패

```jsx
function solution(n) {
  let num = n;
  const answer = [];
  let i = 2;
  for (let i = 2; i <= num; i++) {
    if (num % i === 0) {
      answer.push(i);
      num /= i;
    }
  }
  return answer;
}

console.log(solution(104)); //[ 2, 4, 13 ]
```

- 소인수분해는  소수들의 곱으로 표현해야 한다. 즉 2로 나누어졌다고 끝이 아니라 2로 나눈 수를 다시금 2로 나누어지는 지를 체크해야 한다. 이점을 놓쳤다. 반례를 찾지 못해 한참 헤매다가 반례를 찾을 수 있었다.

### 성공 코드

```jsx
function solution(n) {
  let num = n;
  const answer = [];
  let i = 2;
  while (i <= num) {
    if (num % i === 0) {
      if (!answer.includes(i)) {
        answer.push(i);
      }
      num /= i;
      console.log(num);
    } else {
      i += 1;
    }
  }

  return answer;
}
```

- 우선 반복 되는 횟수를 알 수 없기 때문에 for 반복문을 while 반복문으로 수정하였다.
- 같은 수로 나누어 떨어지지 않을 경우에만 분모를 1 증가 시키는 방식으로 변경했다.
- i로 나누어 떨어지면, 분자(num)를 계속 분모(i)로 나누어 비교하였다.
- answer에 소수를 넣을 때, answer에 이미 같은 소수가 있다면, 값을 추가하지 않도록 하였다.